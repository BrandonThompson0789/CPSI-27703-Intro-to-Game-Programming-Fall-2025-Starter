{
    "title": "Level 1: The Beginning",
    "order": 10,
    "thumbnail": "assets/textures/level1.png",
    "background": {
        "layers": [
            {
                "spriteName": "level1_background",
                "tiled": false,
                "offsetX": 1200.0,
                "offsetY": 1200.0,
                "parallaxX": 0.0,
                "parallaxY": 0.0,
                "depth": 1.0
            },
            {
                "spriteName": "grass",
                "tiled": true,
                "tileWidth": 32.0,
                "tileHeight": 32.0,
                "parallaxX": 0.0,
                "parallaxY": 0.0,
                "depth": 0.0
            }
        ]
    },
    "objects": [
        {
            "name": "player1",
            "template": "player_default",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 600.0,
                    "posY": 1050.0
                },
                {
                    "type": "InputComponent",
                    "playerId": 1,
                    "configName": "default"
                }
            ]
        },
        {
            "name": "player2",
            "template": "player_default",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 650.0,
                    "posY": 1050.0
                },
                {
                    "type": "InputComponent",
                    "playerId": 2,
                    "configName": "default"
                }
            ]
        },
        {
            "template": "player_vaccumba",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 400.0,
                    "posY": 0.0
                }
            ]
        },
        {
            "template": "player_vaccumba",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 360.0,
                    "posY": 0.0
                }
            ]
        },
        {
            "name": "interact_sensor_pad",
            "template": "sensor_pad_interact",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 400.0,
                    "posY": 300.0
                }
            ]
        },
        
        {
            "name": "distance_sensor_pad",
            "template": "sensor_pad_distance",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 720.0,
                    "posY": 340.0
                }
            ]
        },
        {
            "template": "crate_basic_no_damage_given",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 150.0,
                    "posY": 200.0
                }
            ]
        },
        {
            "template": "crate_basic_no_damage_received",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 650.0,
                    "posY": 200.0
                }
            ]
        },
        {
            "template": "crate_basic",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 150.0,
                    "posY": 450.0
                }
            ]
        },
        {
            "template": "crate_basic",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 150.0,
                    "posY": 450.0
                }
            ]
        },
        {
            "template": "brick_rail_circular"
        },
        {
            "name": "test crate - not throwable",
            "template": "crate_basic",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 650.0,
                    "posY": 450.0
                },
                {
                    "type": "UnthrowableComponent"
                }
            ]
        },
        {
            "name": "gun",
            "template": "gun",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 700.0,
                    "posY": 450.0
                }
            ]
        },
        {
            "template": "tree",
            "components": [
                {
                    "type": "SpriteComponent",
                    "posX": 100.0,
                    "posY": 100.0
                }
            ]
        },
        {
            "template": "tree",
            "components": [
                {
                    "type": "SpriteComponent",
                    "posX": 700.0,
                    "posY": 100.0
                }
            ]
        },
        {
            "template": "tree",
            "components": [
                {
                    "type": "SpriteComponent",
                    "posX": 100.0,
                    "posY": 500.0
                }
            ]
        },
        {
            "template": "tree",
            "components": [
                {
                    "type": "SpriteComponent",
                    "posX": 700.0,
                    "posY": 500.0
                }
            ]
        },
        {
            "name": "invisible_wall_1",
            "template": "invisible_wall",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 304.0,
                    "posY": 790.0,
                    "fixture": {
                        "width": 32.0,
                        "height": 639.0
                    }
                }
            ]
        },
        {
            "name": "invisible_wall_2",
            "template": "invisible_wall",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 597.5,
                    "posY": 1094.0,
                    "fixture": {
                        "width": 618.0,
                        "height": 32.0
                    }
                }
            ]
        },
        {
            "name": "invisible_wall_3",
            "template": "invisible_wall",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 709.5,
                    "posY": 486.0,
                    "fixture": {
                        "width": 618.0,
                        "height": 32.0
                    }
                }
            ]
        },
        {
            "name": "invisible_wall_4",
            "template": "invisible_wall",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 1003.0,
                    "posY": 790.0,
                    "fixture": {
                        "width": 32.0,
                        "height": 639.0
                    }
                }
            ]
        },
        {
            "name": "invisible_wall_5",
            "template": "invisible_wall",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 891.0,
                    "posY": 1398.0,
                    "fixture": {
                        "width": 32.0,
                        "height": 639.0
                    }
                }
            ]
        },
        {
            "name": "invisible_wall_6",
            "template": "invisible_wall",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 1184.5,
                    "posY": 1702.0,
                    "fixture": {
                        "width": 618.0,
                        "height": 32.0
                    }
                }
            ]
        },
        {
            "name": "invisible_wall_7",
            "template": "invisible_wall",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 1296.5,
                    "posY": 1094.0,
                    "fixture": {
                        "width": 618.0,
                        "height": 32.0
                    }
                }
            ]
        },
        {
            "name": "invisible_wall_8",
            "template": "invisible_wall",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 1590.0,
                    "posY": 1398.0,
                    "fixture": {
                        "width": 32.0,
                        "height": 639.0
                    }
                }
            ]
        },
        {
            "name": "crate1",
            "template": "crate_basic",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 400.0,
                    "posY": 200.0
                }
            ]
        },
        {
            "name": "crate2",
            "template": "crate_basic",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 500.0,
                    "posY": 250.0,
                    "fixture": {
                        "density": 0.5
                    }
                }
            ]
        },
        {
            "name": "heavy_crate",
            "template": "crate_basic",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 450.0,
                    "posY": 300.0,
                    "fixture": {
                        "width": 48.0,
                        "height": 48.0,
                        "density": 3.0
                    }
                },
                {
                    "type": "HealthComponent",
                    "maxHP": 150.0,
                    "currentHP": 150.0,
                    "impactResistance": 0.5
                },
                {
                    "type": "CollisionDamageComponent",
                    "baseDamage": 3.0,
                    "kineticScale": 8.0
                },
                {
                    "type": "SpriteComponent",
                    "width": 48,
                    "height": 48
                },
                {
                    "type": "ExplodeOnDeathComponent",
                    "explosionSprite": "explosion",
                    "explosionWidth": 96.0,
                    "explosionHeight": 96.0,
                    "loopsBeforeDeath": 2,
                    "randomizeAngleEachFrame": true
                }
            ]
        },
        {
            "template": "brick_pillar",
            "name": "breakable pillar",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 600.0,
                    "posY": 160.0
                }
            ]
        },
        {
            "name": "object_spawner_trigger",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 450.0,
                    "posY": 900.0,
                    "bodyType":"static"
                },
                {
                    "type": "SpriteComponent",
                    "spriteName": "square",
                    "alpha": 200,
                    "colorR": 150,
                    "colorG": 150,
                    "colorB": 0
                },
                {
                    "type": "SensorComponent",
                    "requireInteractInput": true,
                    "requireCollision": true,
                    "holdDuration": 0,
                    "targetObjects": [
                        "object_spawner"
                    ]
                }
            ]
        },
        {
            "name": "object_spawner",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 600.0,
                    "posY": 950.0,
                    "bodyType": "static",
                    "fixture": {
                        "isSensor": true
                    }
                },
                {
                    "type": "ObjectSpawnerComponent",
                    "spawnInOrder": false,
                    "useNextPosition": true,
                    "spawnableObjects": [
                        {
                            "template": "crate_basic"
                        }
                    ],
                    "spawnLocations": [
                        {"x": 500.0, "y": 850.0},
                        {"x": 550.0, "y": 850.0},
                        {"x": 600.0, "y": 850.0},
                        {"x": 650.0, "y": 850.0},
                        {"x": 700.0, "y": 850.0}
                    ]
                }
            ]
        },
        {
            "name": "win_zone-level1",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 600.0,
                    "posY": 700.0,
                    "bodyType": "static",
                    "fixture": {
                        "width": 200.0,
                        "height": 200.0,
                        "isSensor": true
                    }
                },
                {
                    "type": "SpriteComponent",
                    "spriteName": "square",
                    "alpha": 100,
                    "colorR": 0,
                    "colorG": 255,
                    "colorB": 0,
                    "tiled": true
                },
                {
                    "type": "SensorComponent",
                    "requireBoxZone": true,
                    "boxZone": {
                        "minX": 500.0,
                        "minY": 600.0,
                        "maxX": 700.0,
                        "maxY": 800.0,
                        "requireFull": false
                    },
                    "allowedInstigators": [".*crate.*"],
                    "useRegexForInstigators": true,
                    "includeInteractComponent": false, 
                    "targetObjects": ["win_zone_adjuster_positive"],
                    "unsatisfiedTargetObjects": ["win_zone_adjuster_negative"]
                }
            ]
        },
        {
            "name": "win_zone_adjuster_positive",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 450.0,
                    "posY": 650.0,
                    "bodyType": "static",
                    "fixture": {
                        "width": 32.0,
                        "height": 32.0,
                        "isSensor": true
                    }
                },
                {
                    "type": "AdjustableComponent",
                    "globalValueName": "winpoints",
                    "operation": "add",
                    "value": 1.0,
                    "createIfNotExists": true
                }
            ]
        },
        {
            "name": "win_zone_adjuster_negative",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 450.0,
                    "posY": 750.0,
                    "bodyType": "static",
                    "fixture": {
                        "width": 32.0,
                        "height": 32.0,
                        "isSensor": true
                    }
                },
                {
                    "type": "AdjustableComponent",
                    "globalValueName": "winpoints",
                    "operation": "subtract",
                    "value": 1.0,
                    "createIfNotExists": true
                }
            ]
        },
        {
            "name": "win_condition_sensor",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 750.0,
                    "posY": 650.0,
                    "bodyType": "static",
                    "fixture": {
                        "shape": "box",
                        "width": 32.0,
                        "height": 32.0,
                        "isSensor": true
                    }
                },
                {
                    "type": "SensorComponent",
                    "requireGlobalValue": true,
                    "globalValue": {
                        "name": "winpoints",
                        "comparison": ">=",
                        "threshold": 10.0
                    },
                    "targetObjects": ["level_win_trigger"]
                }
            ]
        },
        {
            "name": "level_win_trigger",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 750.0,
                    "posY": 750.0,
                    "bodyType": "static",
                    "fixture": {
                        "shape": "box",
                        "width": 32.0,
                        "height": 32.0,
                        "isSensor": true
                    }
                },
                {
                    "type": "LevelWinComponent",
                    "updateProgression": true,
                    "progressionIncrement": 10
                }
            ]
        },
        {
            "template": "robot",
            "name": "enemy_robot",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 500.0,
                    "posY": 850.0
                },
                {
                    "type": "HealthComponent",
                    "maxHP": 10.0,
                    "currentHP": 10.0
                },
                {
                    "type": "PathfindingBehaviorComponent",
                    "gridCellSize": 8.0,
                    "searchPadding": 1.0,
                    "targetAcceptanceDistance": 32.0,
                    "waypointAcceptanceDistance": 32.0,
                    "waypointAcceptanceDistance - iftank": 4.0
                },
                {
                    "type": "SeekBehaviorComponent"
                },
                {
                    "type": "SensorComponent",
                    "maxDistance": 1500.0,
                    "holdDuration": 0.0,
                    "allowedInstigators": ["player\\d+"],
                    "useRegexForInstigators": true,
                    "includeInteractComponent": false
                }
            ]
        },
        {
            "name": "enemy_spawner",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 600.0,
                    "posY": 1050.0,
                    "bodyType": "static",
                    "fixture": {
                        "isSensor": true
                    }
                },
                {
                    "type": "ObjectSpawnerComponent",
                    "spawnInOrder": false,
                    "useNextPosition": true,
                    "spawnableObjects": [
                        {
                            "template": "robot",
                            "name": "enemy_robot",
                            "components": [
                                {
                                    "type": "BodyComponent",
                                    "posX": 440.0,
                                    "posY": 0.0
                                },
                                {
                                    "type": "HealthComponent",
                                    "maxHP": 10.0,
                                    "currentHP": 10.0
                                },
                                {
                                    "type": "PathfindingBehaviorComponent",
                                    "gridCellSize": 8.0,
                                    "searchPadding": 1.0,
                                    "targetAcceptanceDistance": 32.0,
                                    "waypointAcceptanceDistance": 32.0,
                                    "waypointAcceptanceDistance - iftank": 4.0
                                },
                                {
                                    "type": "SeekBehaviorComponent"
                                },
                                {
                                    "type": "SensorComponent",
                                    "maxDistance": 1500.0,
                                    "holdDuration": 0.0,
                                    "allowedInstigators": ["player\\d+"],
                                    "useRegexForInstigators": true,
                                    "includeInteractComponent": false
                                }
                            ]
                        }
                    ],
                    "spawnLocations": [
                        {"x": 500.0, "y": 850.0},
                        {"x": 550.0, "y": 850.0},
                        {"x": 600.0, "y": 850.0},
                        {"x": 650.0, "y": 850.0},
                        {"x": 700.0, "y": 850.0}
                    ]
                }
            ]
        },
        {
            "name": "kill_counter_adjuster_positive",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 700.0,
                    "posY": 1050.0,
                    "bodyType": "static",
                    "fixture": {
                        "width": 32.0,
                        "height": 32.0,
                        "isSensor": true
                    }
                },
                {
                    "type": "AdjustableComponent",
                    "globalValueName": "kill_count",
                    "operation": "add",
                    "value": 1.0,
                    "createIfNotExists": true
                }
            ]
        },
        {
            "name": "enemy_spawn_and_kill_count_trigger",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 650.0,
                    "posY": 1050.0,
                    "bodyType": "static",
                    "fixture": {
                        "width": 32.0,
                        "height": 32.0,
                        "isSensor": true
                    }
                },
                {
                    "type": "SpriteComponent",
                    "spriteName": "square",
                    "alpha": 100,
                    "colorR": 0,
                    "colorG": 255,
                    "colorB": 0
                },
                {
                    "type": "SensorComponent",
                    "requireInstigatorDeath": true,
                    "allowedInstigators": ["enemy_robot.*(?<!_explosion)$"],
                    "useRegexForInstigators": true,
                    "includeInteractComponent": false, 
                    "targetObjects": ["kill_counter_adjuster_positive","enemy_spawner"]
                }
            ]
        },
        {
            "name": "kill_count_sensor",
            "components": [
                {
                    "type": "BodyComponent",
                    "posX": 750.0,
                    "posY": 1050.0,
                    "bodyType": "static",
                    "fixture": {
                        "shape": "box",
                        "width": 32.0,
                        "height": 32.0,
                        "isSensor": true
                    }
                },
                {
                    "type": "SensorComponent",
                    "requireGlobalValue": true,
                    "globalValue": {
                        "name": "kill_count",
                        "comparison": ">=",
                        "threshold": 50.0
                    },
                    "targetObjects": ["level_win_trigger"]
                }
            ]
        }
    ]
}
